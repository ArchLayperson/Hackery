package guru.haun.hackery;

import java.util.ArrayList;
import java.util.Collection;
import java.util.HashMap;
import java.util.Iterator;
import java.util.List;
import java.util.Map;


public class ExploitUtils {
	private static List<IExploit> ex = new ArrayList<IExploit>();
	
	public static  IExploit getExploitById(int i){
		return ex.get(i);
	}
	
	public static IExploit pickExploit(){
		double totalWeight = totalWeightOfExploits(ex);
		int ri = -1;
		double random = Math.random() * totalWeight;
		for(int i = 0; i < ex.size(); i++){
			random -= ex.get(i).getRarity();
			if(random <= 0d){
				ri = i;
				break;
			}
		}
		return ex.get(ri);
		
	}
	
	private static double totalWeightOfExploits (List<IExploit> c){
		double ret = 0d;
		Iterator it = c.iterator();
		while(it.hasNext()){
			ret += ((IExploit) it.next()).getRarity();
		}
		return ret;
	}
	
	public static void addExploit(IExploit ie){
		ex.add(ie);
	}
}
