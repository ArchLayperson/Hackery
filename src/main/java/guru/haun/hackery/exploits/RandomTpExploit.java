package guru.haun.hackery.exploits;

import net.minecraft.entity.Entity;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.util.ChunkCoordinates;

public class RandomTpExploit implements IExploit {

	
	@Override
	public int getWeight() {
		return 50;
	}

    @Override
    public void targetSelf(EntityPlayer ep) {
        targetUser(ep);
    }

    @Override
	public void targetUser(EntityPlayer ep) {
			ChunkCoordinates cc = ep.getPlayerCoordinates();
			cc.posX += (256 * Math.random() - 128);
			cc.posZ += (256 * Math.random() - 128);
			cc.posY = ep.worldObj.getHeightValue(cc.posX, cc.posZ) + 1;
			ep.setPositionAndUpdate(cc.posX, cc.posY, cc.posZ);
		return;
	}

	@Override
	public boolean canTargetSelf() {
		return true;
	}

	@Override
	public boolean canTargetOthers() {
		return true;
	}

	@Override
	public int getId() {
		return 0;
	}

	@Override
	public boolean isRanged() {
		return false;
	}

	@Override
	public String getName() {
		return "exploitSpatialJerk";
	}

	@Override
	public boolean isConsumed() {
		return false;
	}

	@Override
	public boolean canTargetMobs() {
		return true;
	}

	@Override
	public void targetMob(Entity e) {
		
		double posX = e.posX + (128 * Math.random() - 64);
		double posZ = e.posZ + (128 * Math.random() - 64);
		double posY = e.worldObj.getHeightValue((int)posX,(int) posZ) + 1;
		e.moveEntity(posX, posY, posZ);
	}

}
