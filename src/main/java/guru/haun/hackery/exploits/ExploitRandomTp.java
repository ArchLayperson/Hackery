package guru.haun.hackery.exploits;

import guru.haun.hackery.api.exploits.ExploitBase;
import net.minecraft.entity.Entity;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.util.ChunkCoordinates;

public class ExploitRandomTp extends ExploitBase {

    public ExploitRandomTp(int i) {
        super(i);
        setWeight(50);
        setTargetSelf();
        setTargetOthers();
        setTargetMob();
        setName("exploitSpatialJerk");
    }
	
    @Override
	public void targetUser(EntityPlayer ep) {
			ChunkCoordinates cc = ep.getPlayerCoordinates();
			cc.posX += (256 * Math.random() - 128);
			cc.posZ += (256 * Math.random() - 128);
			cc.posY = ep.worldObj.getHeightValue(cc.posX, cc.posZ) + 1;
			ep.setPositionAndUpdate(cc.posX, cc.posY, cc.posZ);
	}

	@Override
	public void targetMob(Entity e) {
		
		double posX = e.posX + (128 * Math.random() - 64);
		double posZ = e.posZ + (128 * Math.random() - 64);
		double posY = e.worldObj.getHeightValue((int)posX,(int) posZ) + 1;
		e.moveEntity(posX, posY, posZ);
	}

}
